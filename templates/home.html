{% extends 'base.html' %}

{% block content %}


<!--Carousel Wrapper-->
  <div id="carousel-example-1z" class="carousel slide carousel-fade pt-4" data-ride="carousel">

    <!--Indicators-->
    <ol class="carousel-indicators">
      <li data-target="#carousel-example-1z" data-slide-to="0" class="active"></li>
      <li data-target="#carousel-example-1z" data-slide-to="1"></li>
      <li data-target="#carousel-example-1z" data-slide-to="2"></li>
    </ol>
    <!--/.Indicators-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">

      <!--First slide-->
      <div class="carousel-item active">
        <div class="view" style="background-image: url('/static/img/nav1.jpeg'); background-repeat: no-repeat; background-size: cover; background-position: center center;">

          <!-- Mask & flexbox options-->
          <div class="mask rgba-black-strong d-flex justify-content-center align-items-center">

            <!-- Content -->
            <div class="text-center white-text mx-5 wow fadeIn">
              <h1 class="mb-4">
                <strong>Welcome to Our Laptop Store</strong>
              </h1>

              <p>
                <strong>Discover the Best Brands and Models</strong>
              </p>

              <p class="mb-4 d-none d-md-block">
                <strong>From sleek ultrabooks to powerful gaming rigs, 
                  we offer a wide range of laptops from top brands like Apple, Dell, HP, Lenovo, ASUS, and more. 
                  Explore the latest models featuring innovative designs, high-performance processors, 
                  stunning displays, and immersive audio.</strong>
              </p>
              {% if user.is_authenticated %}
              {% else %}
                <a target="_blank" href="{% url 'products:register' %}" class="btn btn-outline-white btn-lg">Signup
                  <i class="fas fa-user-plus ml-2"></i>
                </a>

              {% endif %}
              <p>
                <!-- WhatsApp button -->
                <a href="http://wa.me//255687408191" class="btn btn-success btn-lg mt-4" target="_blank">
                  <i class="fab fa-whatsapp mr-2"></i>Chat with us on WhatsApp</a>
                <!-- End WhatsApp button -->
              </p>
            </div>
            <!-- Content -->

          </div>
          <!-- Mask & flexbox options-->

        </div>
      </div>
      <!--/First slide-->

      <!--Second slide-->
      <div class="carousel-item">
        <div class="view" style="background-image: url('/static/img/nav3.jpeg'); background-repeat: no-repeat; background-size: cover;  background-position: center center;">

          <!-- Mask & flexbox options-->
          <div class="mask rgba-black-strong d-flex justify-content-center align-items-center">

            <!-- Content -->
            <div class="text-center white-text mx-5 wow fadeIn">
              <h1 class="mb-4">
                <strong>Find Your Perfect Match</strong>
              </h1>

              <p>
                <strong>Tailored to Your Lifestyle</strong>
              </p>

              <p class="mb-4 d-none d-md-block">
                <strong>Whether you're working on-the-go, attending virtual meetings, or gaming with friends, 
                  our laptops are designed to enhance your productivity and entertainment experience. 
                  Choose from lightweight and portable options for ultimate convenience or 
                  powerhouse machines for intensive tasks.</strong>
              </p>

              {% if user.is_authenticated %}
              {% else %}
                <a target="_blank" href="{% url 'products:register' %}" class="btn btn-outline-white btn-lg">Signup
                  <i class="fas fa-user-plus ml-2"></i>
                </a>

              {% endif %}
              
              <p>
                <!-- WhatsApp button -->
                <a href="http://wa.me//255687408191" class="btn btn-success btn-lg mt-4" target="_blank">
                  <i class="fab fa-whatsapp mr-2"></i>Chat with us on WhatsApp</a>
                <!-- End WhatsApp button -->
              </p>
            
            </div>
            <!-- Content -->

          </div>
          <!-- Mask & flexbox options-->

        </div>
      </div>
      <!--/Second slide-->

      <!--Third slide-->
      <div class="carousel-item">
        <div class="view" style="background-image: url('/static/img/shop.jpg'); background-repeat: no-repeat; background-size: cover; background-position: center center;">

          <!-- Mask & flexbox options-->
          <div class="mask rgba-black-strong d-flex justify-content-center align-items-center">

            <!-- Content -->
            <div class="text-center white-text mx-5 wow fadeIn">
              <h1 class="mb-4">
                <strong>Shop with Confidence</strong>
              </h1>

              <p>
                <strong>From Quantum Razer</strong>
              </p>

              <p class="mb-4 d-none d-md-block">
                <strong>Shop with confidence knowing that all our laptops are sourced from trusted manufacturers and undergo rigorous quality checks. Enjoy hassle-free shopping with secure payment options, fast shipping, and easy returns. Experience the convenience of online shopping and elevate your computing experience today!</strong>
              </p>

              {% if user.is_authenticated %}
              {% else %}
                <a target="_blank" href="{% url 'products:register' %}" class="btn btn-outline-white btn-lg">Signup
                  <i class="fas fa-user-plus ml-2"></i>
                </a>

              {% endif %}
              <p>
                <!-- WhatsApp button -->
                <a href="http://wa.me//255687408191" class="btn btn-success btn-lg mt-4" target="_blank">
                  <i class="fab fa-whatsapp mr-2"></i>Chat with us on WhatsApp</a>
                <!-- End WhatsApp button -->
              </p>
            </div>
            <!-- Content -->

          </div>
          <!-- Mask & flexbox options-->

        </div>
      </div>
      <!--/Third slide-->

    </div>
    <!--/.Slides-->

    <!--Controls-->
    <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

  </div>

<main>
    <div class="container">

      <!--Navbar-->
      <nav class="navbar sticky-top navbar-expand-lg navbar-dark mdb-color lighten-3 mt-3 mb-5">

        <!-- Navbar brand -->
        <span class="navbar-brand">Brands:</span>

        <!-- Collapse button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
          aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Collapsible content -->
        <div class="collapse navbar-collapse" id="basicExampleNav">

          <!-- Links -->
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="{% url 'products:home'%}">All
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Apple'%}">Apple</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Dell'%}">Dell</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Hp'%}">Hp</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Lenovo'%}">Lenovo</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Microsoft'%}">Microsoft</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Razer'%}">Razer</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Asus'%}">Asus</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products:category' 'Accessories'%}">Accessories</a>
            </li>

          </ul>
          <!-- Links -->

          <form class="form-inline" action="{% url 'products:searched' %}" method="GET">
            <div class="md-form my-0">
              <input class="form-control mr-sm-2" type="text" name="query" placeholder="Search" aria-label="Search">
            </div>
            <button class="btn btn-primary" type="submit">Search</button>
          </form>
        </div>
        <!-- Collapsible content -->

      </nav>
      <!--/.Navbar-->

      <!--Section: Products v.3-->
      <section class="text-center mb-4">

        <!--Grid row-->
        <div class="row wow fadeIn">
          {% for item in items %}
          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4">
          <!--Card-->
<div class="card">

  <!--Card image-->
  <div class="position-relative">
    <img src="{{ item.image.url }}" class="w-100 img-fluid" alt="">
    <a href="{{ item.get_absolute_url }}" class="stretched-link">
      <div class="mask">
        <div class="d-flex justify-content-start align-items-end h-100 ">
          <h5><span class="badge  badge-position {% if item.get_label_display == 'New' %} danger-color {% else %} primary-color {% endif %} ms-2">{{ item.get_label_display }}</span></h5>
        </div>
      </div>
    </a>
    <div class="overlay"></div>
  </div>
  <!--Card image-->

  <!--Card content-->
  <div class="card-body text-center">
    <!--Category & Title-->
    
    <h5 class="card-title mb-2">
      <strong>
        <a href="{{ item.get_absolute_url }}" class="text-reset">{{ item.item_name }}
        </a>
      </strong>
    </h5>
    <a href="" class="grey-text">
      <p>{{ item.get_category_display}}</p>
    </a>

    <h6 class="mb-3 price">
      <strong>
      {% if item.discount_price %}
      <span class="mr-1">
        <del>${{ item.price }}</del>
        </span>
        <span style="color: #E53935;">${{ item.discount_price }}
        </span>
      {% else %}
      ${{ item.price }}
      {% endif %}
      </strong>
    </h6>

  </div>
  <!--Card content-->

</div>
<!--Card-->
<style>
 
  .card .position-relative {
    overflow: hidden;
    position: relative;
  }

  .card img {
    transition: transform 0.3s ease-in-out;
  }

  .card .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(251, 251, 251, 0.15);
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
  }

  .card:hover img {
    transform: scale(1.1);
  }

  .card:hover .overlay {
    opacity: 1;
  }
  .badge {
    position: absolute;
    bottom: 10px; 
    left: 5px; 
    border-radius: 5px; 
    z-index: 1; 
  }
  .position-relative:hover .badge {
    opacity: 0.7; 
  }
</style>


          </div>
          <!--Grid column-->

          {% endfor %}
         

        </div>
        <!--Grid row-->

      </section>
      <!--Section: Products v.3-->

      <!-- Pagination links -->
      <nav class="d-flex justify-content-center wow fadeIn">
        <ul class="pagination pg-blue">
    
            {% if items.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page=1" aria-label="First">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">First</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="?page={{ items.previous_page_number }}" aria-label="Previous">
                        <span aria-hidden="true">&lsaquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            {% endif %}
    
            {% for page in items.paginator.page_range %}
                {% if items.number == page %}
                    <li class="page-item active">
                        <span class="page-link">{{ page }} <span class="sr-only">(current)</span></span>
                    </li>
                {% else %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page }}">{{ page }}</a>
                    </li>
                {% endif %}
            {% endfor %}
    
            {% if items.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ items.next_page_number }}" aria-label="Next">
                        <span aria-hidden="true">&rsaquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="?page={{ items.paginator.num_pages }}" aria-label="Last">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Last</span>
                    </a>
                </li>
            {% endif %}
    
        </ul>
    </nav>
    

    </div>
  </main>
  <!--Main layout-->

{% endblock content %}
